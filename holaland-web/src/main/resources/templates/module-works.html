<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

<head>
  <!-- Required meta tags -->
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Hola Land</title>
  <!-- Font Awesome CSS -->
  <link rel="stylesheet" th:href="@{/css/all.css}"/>
  <!-- Bootstrap CSS -->
  <link rel="stylesheet" th:href="@{/css/bootstrap/bootstrap.min.css}"/>
  <link rel="stylesheet" th:href="@{/css/bootstrap/bootstrap-icons.css}"/>
  <!-- Custom CSS -->
  <link rel="stylesheet" th:href="@{/css/hola-land/main.css}"/>
  <link rel="stylesheet" th:href="@{/css/hola-land/common.css}"/>
  <link rel="stylesheet" th:href="@{/css/hola-land/grid.css}"/>
  <link rel="stylesheet" th:href="@{/css/hola-land/form.css}"/>
  <link rel="stylesheet" th:href="@{/css/hola-land/works.css}"/>
</head>

<body>
<div th:replace="~{common/navbar :: navbar}"></div>

<div style="overflow: hidden;">
  <div class="container">
    <div class="row">
      <!-- Left side -->
      <div class="col-md-4 col-lg-3 col-xl-3 col-xxl-3">
        <div class="col-left">
          <div class="row">
            <div class="col-12">
              <h1 class="title fix-pd fix-mb-title">Menu</h1>
            </div>
          </div>
          <ul class="nav navbar-nav sub-menu">
            <li>
              <a th:href="@{/works}" th:classappend="${page == 1 ? 'active' : ''}">
                <i class="fas fa-list-ul fa-fw"></i>Danh sách việc làm
              </a>
            </li>
            <li sec:authorize="hasRole('STUDENT')">
              <a th:href="@{/works/booked}" th:classappend="${page == 2 ? 'active' : ''}">
                <i class="fas fa-list fa-fw"></i>Danh sách thuê
              </a>
            </li>
            <li sec:authorize="hasRole('STUDENT')">
              <a th:href="@{/works/jobs/apply}" th:classappend="${page == 3 ? 'active' : ''}">
                <i class="fas fa-tasks fa-fw"></i>Việc làm đã ứng tuyển
              </a>
            </li>
            <li sec:authorize="hasRole('STUDENT')">
              <a th:href="@{/works/jobs/saved}" th:classappend="${page == 4 ? 'active' : ''}">
                <i class="far fa-bookmark fa-fw"></i>Việc làm đã lưu
              </a>
            </li>
            <li sec:authorize="hasRole('STUDENT')">
              <a th:href="@{/works/jobs/find/manage}" th:classappend="${page == 5 ? 'active' : ''}">
                <i class="far fa-file-alt fa-fw"></i>Quản lý bài viết
              </a>
            </li>
            <li sec:authorize="hasRole('STUDENT')">
              <a th:href="@{/works/jobs/find/create}" th:classappend="${page == 6 ? 'active' : ''}">
                <i class="fas fa-pencil-alt fa-fw"></i>Viết bài tìm việc
              </a>
            </li>
            <li sec:authorize="hasRole('RECRUITER')">
              <a th:href="@{/works/jobs/find}" th:classappend="${page == 7 ? 'active' : ''}">
                <i class="fas fa-search fa-fw"></i>Danh sách tìm việc
              </a>
            </li>
            <li sec:authorize="hasRole('RECRUITER')">
              <a th:href="@{/works/apply}" th:classappend="${page == 8 ? 'active' : ''}">
                <i class="fas fa-tasks fa-fw"></i>Danh sách ứng tuyển
              </a>
            </li>
            <li sec:authorize="hasRole('RECRUITER')">
              <a th:href="@{/works/jobs/recruitment/manage}" th:classappend="${page == 9 ? 'active' : ''}">
                <i class="far fa-file-alt fa-fw"></i>Quản lý bài viết
              </a>
            </li>
            <li sec:authorize="hasRole('RECRUITER')">
              <a th:href="@{/works/jobs/recruitment/create}" th:classappend="${page == 10 ? 'active' : ''}">
                <i class="fas fa-pencil-alt fa-fw"></i>Viết bài tuyển dụng
              </a>
            </li>
            <li>
              <a id="btn-back-page" href="javascript:void(0)" onclick="goBack()">
                <i class="fas fa-chevron-left fa-fw"></i>Quay lại
              </a>
            </li>
          </ul>
        </div>
      </div>
      <!-- Right side -->
      <div class="col-md-8 col-lg-9 col-xl-9 col-xxl-9">
        <!-- List request recruitment -->
        <th:block th:if="${page == 1}">
          <div th:replace="works/request-recruitment :: request-recruitment"></div>
        </th:block>
        <!-- List recruiter booked -->
        <th:block th:if="${page == 2}">
          <div th:replace="works/list-booked :: list-booked"></div>
        </th:block>
        <!-- List request recruitment applied -->
        <th:block th:if="${page == 3}">
          <div th:replace="works/request-recruitment-applied :: request-recruitment-applied"></div>
        </th:block>
        <!-- List request recruitment saved -->
        <th:block th:if="${page == 4}">
          <div th:replace="works/request-recruitment-saved :: request-recruitment-saved"></div>
        </th:block>
        <!-- Request find job manage -->
        <th:block th:if="${page == 5}">
          <div th:replace="works/request-find-job-manage :: request-find-job-manage"></div>
        </th:block>
        <!-- Create request find job -->
        <th:block th:if="${page == 6}">
          <div th:replace="works/create-request-find-job :: create-request-find-job"></div>
        </th:block>
        <!-- List request find job -->
        <th:block th:if="${page == 7}">
          <div th:replace="works/request-find-job :: request-find-job"></div>
        </th:block>
        <!-- List user applied -->
        <th:block th:if="${page == 8}">
          <div th:replace="works/list-applied :: list-applied"></div>
        </th:block>
        <!-- Request recruitment manage -->
        <th:block th:if="${page == 9}">
          <div th:replace="works/request-recruitment-manage :: request-recruitment-manage"></div>
        </th:block>
        <!-- Create request recruitment -->
        <th:block th:if="${page == 10}">
          <div th:replace="works/create-request-recruitment :: create-request-recruitment"></div>
        </th:block>
        <!-- Request recruitment detail -->
        <th:block th:if="${page == 11}">
          <div th:replace="works/request-recruitment-detail :: request-recruitment-detail"></div>
        </th:block>
        <!-- Request find job detail -->
        <th:block th:if="${page == 12}">
          <div th:replace="works/request-find-job-detail :: request-find-job-detail"></div>
        </th:block>
      </div>
    </div>
  </div>
</div>

<th:block th:if="${page == 2 && listBookedModal != null && listBookedModal.size() != 0}">
  <!-- Import modal list recruitment -->
  <div th:replace="works/modal/modal-list-booked :: listBookedModal"></div>
</th:block>
<th:block th:if="${page == 3}">
  <!-- Import modal confirm cancel apply job -->
  <div th:replace="works/modal/modal-confirm-cancel-apply-job :: confirmCancelApplyJobModal"></div>
</th:block>
<th:block th:if="${page == 4}">
  <!-- Import modal confirm remove job save -->
  <div th:replace="works/modal/modal-confirm-remove-job-save :: confirmRemoveJobSaveModal"></div>
</th:block>
<th:block th:if="${page == 5}">
  <!-- Import modal confirm remove find job request -->
  <div th:replace="works/modal/modal-confirm-remove-find-job-request :: confirmRemoveFindJobRequestModal"></div>
  <!-- Import modal reason reject -->
  <div th:replace="works/modal/modal-reason-reject :: reasonRejectModal(reason=${reasonReject})"></div>
  <!-- Import modal confirm repost request find job -->
  <div th:replace="works/modal/modal-confirm-repost-request-find-job :: confirmRepostRequestFindJobModal"></div>
  <!-- Import toast -->
  <div th:replace="works/toast/toast-user-applied-success :: toastUserAppliedSuccess"></div>
</th:block>
<th:block th:if="${page == 5 && listBooked != null && listBooked.size() != 0}">
  <!-- Import modal list user booked -->
  <div th:replace="works/modal/modal-list-user-booked :: listUserBookedModal"></div>
</th:block>
<th:block th:if="${page == 6}">
  <!-- Import modal request find job preview -->
  <div th:replace="works/modal/modal-request-find-job-preview :: findJobPreviewModal"></div>
</th:block>
<th:block th:if="${page == 8}">
  <!-- Import modal list applied -->
  <div th:replace="works/modal/modal-list-applied :: listAppliedModal"></div>
</th:block>
<th:block th:if="${page == 9}">
  <!-- Import modal confirm remove recruitment request -->
  <div th:replace="works/modal/modal-confirm-remove-recruitment-request :: confirmRemoveRecruitmentRequestModal"></div>
  <!-- Import modal reason reject -->
  <div th:replace="works/modal/modal-reason-reject :: reasonRejectModal(reason=${reasonReject})"></div>
  <!-- Import modal confirm repost request recruitment -->
  <div th:replace="works/modal/modal-confirm-repost-request-recruitment :: confirmRepostRequestRecruitmentModal"></div>
  <!-- Import modal list user applied -->
  <div th:replace="works/modal/modal-list-user-applied :: listUserAppliedModal"></div>
  <!-- Import toast -->
  <div th:replace="works/toast/toast-recruiter-booked-success :: toastRecruiterBookedSuccess"></div>
</th:block>
<th:block th:if="${page == 9 && listApply != null && listApply.size() != 0}">
  <!-- Import modal list user applied -->
  <div th:replace="works/modal/modal-list-user-applied :: listUserAppliedModal"></div>
</th:block>
<th:block th:if="${page == 10}">
  <!-- Import modal request find job preview -->
  <div th:replace="works/modal/modal-request-recruitment-preview :: recruitmentPreviewModal"></div>
</th:block>
<th:block th:if="${page == 11}">
  <!-- Import modal confirm apply request -->
  <div th:replace="works/modal/modal-confirm-apply-request :: confirmApplyRequestModal"></div>
  <!-- Import toast save request recruitment success -->
  <div th:replace="works/toast/toast-request-recruitment-save-success :: toastRequestRecruitmentSaveSuccess"></div>
  <!-- Import toast save request recruitment error -->
  <div th:replace="works/toast/toast-request-recruitment-save-error :: toastRequestRecruitmentSaveError"></div>
</th:block>
<th:block th:if="${page == 12}">
  <!-- Import modal confirm hire -->
  <div th:replace="works/modal/modal-confirm-hire :: confirmHireModal"></div>
</th:block>

<!-- Javascript -->
<th:block th:replace="~{common/script :: script/script}"></th:block>
<script th:src="@{/js/templates/work.js}"></script>

<script th:if="${requestRecruitmentId != null}">
  const myModal = new bootstrap.Modal(document.getElementById('confirmRepostRequestRecruitmentModal'));
  myModal.show();
</script>

<script th:if="${requestFindJobId != null}">
    const myModal = new bootstrap.Modal(document.getElementById('confirmRepostRequestFindJobModal'));
    myModal.show();
</script>

<script th:if="${reasonReject != null}">
    const myModal = new bootstrap.Modal(document.getElementById('reasonRejectModal'));
    myModal.show();
</script>

<script th:if="${listBookedModal != null && listBookedModal.size() != 0}">
  const myModal = new bootstrap.Modal(document.getElementById('listBookedModal'));
  myModal.show();
</script>

<script th:if="${listAppliedModal != null && listAppliedModal.size() != 0}">
  const myModal = new bootstrap.Modal(document.getElementById('listAppliedModal'));
  myModal.show();
</script>

<script th:if="${listBooked != null && listBooked.size() != 0}">
    const myModal = new bootstrap.Modal(document.getElementById('listUserBookedModal'));
    myModal.show();
</script>

<script th:if="${listApply != null && listApply.size() != 0}">
    const myModal = new bootstrap.Modal(document.getElementById('listUserAppliedModal'));
    myModal.show();
</script>

<script th:if="${bookedSuccess}">
    const toast = new bootstrap.Toast(document.getElementById('toastRecruiterBookedSuccess'));
    toast.show();
</script>

<script th:if="${applySuccess}">
    const toast = new bootstrap.Toast(document.getElementById('toastUserAppliedSuccess'));
    toast.show();
</script>

<script th:inline="javascript">
  function goBack() {
      if([[${page}]] == 11 || [[${page}]] == 12) {
          window.history.back();
      }else {
          document.getElementById("btn-back-page").href = "/";
      }
  }
</script>

</body>

</html>